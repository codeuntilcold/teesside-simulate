Players interact following the one-shot PGG of size ğº. For a player to decide to contribute to the common pool, we introduce
a commitment threshold ğœ that allows them to reconsider their choice. Each player must commit or not to cooperate prior to the
actual interaction. Now, players can decide whether to cooperate if the commitment threshold is reached by the group members, as
well as whether to cooperate otherwise. We use the notation ğ‘–ğ‘—ğ‘˜ to denote each strategy, where ğ‘– is the decision to accept or not to
commit (ğ‘– = ğ´ or ğ‘); ğ‘— the decision to cooperate or not if the commitment is formed (ğ‘— = ğ¶ or ğ·); and ğ‘˜ the decision to cooperate
or not if the commitment is not formed (ğ‘˜ = ğ¶ or ğ·). For example, the ğ‘ğ¶ğ· strategy does not commit (ğ‘– = ğ‘), cooperates if the
commitment is formed (ğ‘— = ğ¶), and defects if it is not formed (ğ‘˜ = ğ·). In total, there are eight possible strategies, summarised in
Table I.

For one group ğ‘‹, an individual with strategy ğ‘–ğ‘—ğ‘˜ has the following payoff
Î _ğ‘–ğ‘—ğ‘˜ = ğ‘Ÿ / ğº âˆ‘ ğ‘¥âˆˆğ‘‹ ğ‘_ğ‘¥ âˆ’ ğ‘_ğ‘–ğ‘—ğ‘˜ + ğ‘–ğ‘›ğ‘ğ‘’ğ‘›ğ‘¡ğ‘–ğ‘£ğ‘’, (1)
where ğ‘ğ‘¥ is the contribution from group member ğ‘¥ (including the focal player ğ‘–ğ‘—ğ‘˜) and ğ‘ğ‘–ğ‘—ğ‘˜ is the contribution from the focal player.

A player contributes to the common pool, i.e. ğ‘ğ‘–ğ‘—ğ‘˜ = ğ‘, if they cooperate when the commitment is formed (ğ‘— = ğ¶) and the commitment
was actually formed, or if they cooperate when the commitment is not formed (ğ‘˜ = ğ¶) and the commitment was actually not formed.
Otherwise, the player does not contribute. In that case, ğ‘ğ‘–ğ‘—ğ‘˜ = 0. Without loss of generality, we set the cost of contribution ğ‘ = 1.
The ğ‘–ğ‘›ğ‘ğ‘’ğ‘›ğ‘¡ğ‘–ğ‘£ğ‘’ is provided by an institution, which can be used for rewarding commitment-compliant players (ğ´ğ¶ğ¶ and ğ´ğ¶ğ·)
or punish commitment non-compliant players (ğ´ğ·ğ¶ and ğ´ğ·ğ·). The total budget allocated for providing incentives, whether as
reward or punishment, is represented by ğºğ›¿ per group, with ğ›¿ denoting the per capita budget. We use a weight ğœ” to define which
incentive is being applied, with the possibility of a mixed punishment and reward. The reward part is equally divided among all
commitment-compliant players ğ‘›ğ‘ğ‘œğ‘š, resulting in an increase of ğœ”ğºğ›¿âˆ•ğ‘›ğ‘ğ‘œğ‘š in their payoff. The punishment part is equally applied to
all ğ‘›_ğ‘›ğ‘œğ‘›âˆ’ğ‘ğ‘œğ‘š commitment non-compliant players, resulting in a decrease of (1 âˆ’ ğœ”)ğºğ›¿âˆ•ğ‘›ğ‘›ğ‘œğ‘›âˆ’ğ‘ğ‘œğ‘š in their payoff. For clarity, we present
a summary of all incentives in Table I.

In an evolutionary step, first a random player (ğ‘–ğ‘—ğ‘˜) is selected from the population. Its payoff is calculated according to Equation
(1) for all groups that they participate. Then, a random neighbour (ğ‘–â€²ğ‘—â€²ğ‘˜â€²) of (ğ‘–ğ‘—ğ‘˜) is selected, and we repeat the same calculation for
its payoff. Player (ğ‘–ğ‘—ğ‘˜) will adopt (ğ‘–â€²ğ‘—â€²ğ‘˜â€²) strategy according to a probability given by the Fermi update rule,
ğ‘Šğ‘–ğ‘—ğ‘˜â†’ğ‘–â€²ğ‘—â€²ğ‘˜â€² = 1 / (1 + ğ‘’ âˆ’(Î ğ‘–â€²ğ‘—â€²ğ‘˜â€²âˆ’Î ğ‘–ğ‘—ğ‘˜)âˆ•ğ¾), (2)
where ğ¾ is a noise related to irrationality. This evolutionary step is repeated ğ‘ times where ğ‘ is the population size, characterising
one Monte Carlo step (MCS). We set the total simulation time as ğ‘¡ = 105 MCS which is enough for the equilibrium to be reached.
In line with previous works [20,22,33,34], we perform our simulations on a square lattice with von Neumann neighbourhood, with
periodic boundary conditions, size ğ‘ = 1002 and ğ¾ = 0.1. We initialise the population using a uniform distribution of the eight
strategies. Since each player can cooperate or not according to their neighbourhood, we define the cooperation frequency as the
number of groups in which an interacting player cooperates divided by the total number of groups ğº.
